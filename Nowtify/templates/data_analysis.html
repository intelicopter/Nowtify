{% extends "web/base.html" %}
{% load staticfiles %}
{% load url from future %}

{% block title %}
Dashboard
{% endblock %}

{% block display_title %} Dashboard {% endblock %}

{% block current_page %}{% endblock %}
{% block page1 %}{% endblock %}
{% block page2 %}{% endblock %}
{% block page4 %}active{% endblock %}

{% block content %}
{#<script src="{% static 'js/chart.min.js' %}"></script>#}
{#<script src="{% static 'js/chart-data.js' %}"></script>#}
{#<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js" type="text/javascript"></script>#}
<script src="{% static 'js/chart.min.js' %}"></script>
<script src="{% static 'js/chart-data.js' %}"></script>

<br>
<br>
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">

                    <form action="/update_assignment/" method="post">{% csrf_token %}
                          <fieldset>
                          <div class="form-group col-lg-12">
                              <label class="col-sm-1">Select</label>
                                    <div class="col-sm-3">
                                        <select class="form-control" name="insert_name_of_form" type="text">

        {#                                    <script>#}
        {#                                        wearableNamesArrayLength = {{wearableNames|safe}}.length#}
        {#                                        for (i = 0; i < wearableNamesArrayLength; i++) {#}
        {#                                            document.write("<option>" + {{wearableNames|safe}}[i][0] + "</option>");#}
        {#                                        }#}
        {#                                    </script>#}
                                            <option>Highest Number of Alert</option>
                                            <option>Total Number of Alert</option>
                                            <option>Highest Number of Incident Reported</option>
                                            <option>Total Number of Incident Reported</option>
                                        </select>
                                    </div>

                              <label class="col-sm-1" for="start_date">From</label>
                                    <div class="col-md-3">
                                        <input id="date" name="date" type="date" placeholder="" class="form-control">
                                    </div>

                              <label class="col-md-1" for="end_date">To</label>
                                    <div class="col-md-3">
                                        <input id="date" name="date" type="date" placeholder="" class="form-control">
                                    </div>
                          </div>

                         <div class="form-group col-lg-12" >
                                <label class="col-sm-1">Filter</label>
                                    <div class="col-sm-3">
                                        <select onchange="iftimeslot(this);" class="form-control" name="insert_name_of_form" type="text">
                                        <option>By month</option>
                                        <option>By Week</option>
                                        <option>By Day</option>
                                        <option>Timeslot</option>
                                        </select>
                                     </div>
                          </div>

                        <div id="select_time" class="form-group col-lg-12" style="display: none;">
                            <label class="col-sm-1" for="start_date">Start Time</label>
                                <div class="col-md-3">
                                    <input id="date" name="date" type="date" placeholder="start time" class="form-control">
                                </div>

                            <label class="col-md-1" for="end_date">End Time</label>
                                <div class="col-md-3">
                                    <input id="date" name="date" type="date" placeholder="end time" class="form-control">
                                </div>
                        </div>

                          <input type="submit" class="btn btn-primary btn-md pull-right" value="Filter"/>

                          </fieldset>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <div class="row">
			<div class="col-lg-12">
				<div class="panel panel-default">
					<div class="panel-heading">Bar Chart</div>
					<div class="panel-body">

						<div class="canvas-wrapper">
							<canvas class="main-chart" id="alerts" height="400" width="800"></canvas>
                            <script>
                             var barData = {
{#                                labels : ["January","February","March","April","May","June"],#}
{#                                datasets : [#}
{#                                    {#}
{#                                        data : [456,479,324,569,702,600]#}
{#                                    },#}
{#                                    {#}
{#                                        data : [364,504,605,400,345,320]#}
{#                                    }#}
{##}
{#                                ]#}
                                 labels : ["January","February","March","April","May","June","July","July","July","July","July","July"],
                                    datasets : [

                                        {
                                            fillColor : "rgba(48, 164, 255, 0.2)",
                                            strokeColor : "rgba(48, 164, 255, 0.8)",
                                            highlightFill : "rgba(48, 164, 255, 0.75)",
                                            highlightStroke : "rgba(48, 164, 255, 1)",
                                            data : [randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor(),randomScalingFactor()]
                                        }
                                    ]
                            }
                             var alerts = document.getElementById("alerts").getContext("2d");
                             new Chart(alerts).Bar(barData);

{#                                var pieData = [#}
{#                                    {#}
{#                                        value: 20,#}
{#                                        color:"#878BB6"#}
{#                                    },#}
{#                                    {#}
{#                                        value : 40,#}
{#                                        color : "#4ACAB4"#}
{#                                    },#}
{#                                    {#}
{#                                        value : 10,#}
{#                                        color : "#FF8153"#}
{#                                    },#}
{#                                    {#}
{#                                        value : 30,#}
{#                                        color : "#FFEA88"#}
{#                                    }#}
{#                                ];#}
{#                                // Get the context of the canvas element we want to select#}
{#                                var countries= document.getElementById("countries").getContext("2d");#}
{#                                new Chart(countries).Pie(pieData);#}


                            </script>

						</div>
					</div>
				</div>
			</div>
		</div><!--/.row-->
    </div>

     <script>
        function iftimeslot(that) {
            if (that.value == "Timeslot") {
{#                alert("check");#}
                document.getElementById("select_time").style.display = "block";
            } else {
                document.getElementById("select_time").style.display = "none";
            }
        }
    </script>

    <script src="{% static 'js/easypiechart.js' %}"></script>
    <script src="{% static 'js/easypiechart-data.js' %}"></script>
    <script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
	<script src="{% static 'js/bootstrap.min.js' %}"></script>
	<script src="{% static 'js/bootstrap-datepicker.js' %}"></script>
    <script src="{% static 'js/bootstrap-table.js' %}"></script>

{% endblock %}